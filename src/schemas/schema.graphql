# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

type Query {
  listBlogsWithCatTag: [Blog!]!
  getBlogBySlug(slug: String!): Blog!
  getBlogById(blogId: String!): Blog!
  searchBlogs(query: String!): [Blog!]!
  getRelatedBlogs(limit: Float, tagIds: [String!]!, catIds: [String!]!, slug: String!): [Blog!]!
  getUserBlogs(username: String, userId: String): [Blog!]!
  listCats: [Category!]!
  getCatBlogs(slug: String!): [Blog!]!
  hello: String!
  currentUser: User
  getUserInfo(username: String!): UserInfoResponse!
  searchUsers(name: String!): [User!]
  getFollowInfo(username: String): FollowInfo
  listTags: [Tag!]!
  getTagBlogs(slug: String!): [Blog!]!
}

type Blog {
  _id: ObjectId!
  title: String!
  slug: String!
  description: String
  body: String!
  mtitle: String!
  imageUri: String
  active: Boolean
  likedBy: [User!]
  comments: [Comment!]
  categories: [Category!]!
  tags: [Tag!]!
  author: User!
  createdAt: DateTime!
  updatedAt: DateTime!
}

"""Mongo object id scalar type"""
scalar ObjectId

type User {
  _id: ObjectId!
  username: String!
  name: String!
  email: String!
  profile: String!
  about: String
  role: String!
  photo: String
  resetPasswordLink: String
  commented: [Comment!]!
  followings: [User!]!
  followers: [User!]!
  followingIds: [String!]!
  followerIds: [String!]!
  createdAt: DateTime!
  updatedAt: DateTime
}

type Comment {
  _id: ObjectId!
  content: String!
  by: User!
  atBlog: Blog!
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

type Category {
  _id: ObjectId!
  name: String!
  slug: String!
}

type Tag {
  _id: ObjectId!
  name: String!
  slug: String!
}

type UserInfoResponse {
  username: String!
  name: String!
  email: String!
  about: String!
  photo: String!
  createdAt: DateTime!
}

type FollowInfo {
  followers: [User!]!
  followings: [User!]!
}

type Mutation {
  register(password: String!, email: String!, name: String!): String!
  login(password: String!, email: String!): Boolean!
  forgotPassword(email: String!): String!
  resetPassword(password: String!, username: String!): Boolean!
  createBlog(tagIds: [String!], blogInput: BlogInput!): NewBlogRes!
  updateBlog(tagIds: [String!], blogInput: BlogInput!, blogId: String!): NewBlogRes!
  deleteBlogById(blogId: String!): Boolean!
  newCat(catName: String!): Boolean!
  deleteCat(id: String!): Boolean!
  follow(followName: String!): Boolean!
  unFollow(name: String!): Boolean!
  editProfile(about: String, photo: String, email: String, name: String): Boolean!
  newTag(tagName: String!): Boolean!
  deleteTag(id: String!): Boolean!
}

type NewBlogRes {
  success: Boolean!
}

input BlogInput {
  title: String!
  body: String!
  imageUri: String = "https://res.cloudinary.com/hapmoniym/image/upload/v1644331126/bot-thk/no-image_eaeuge.jpg"
  active: Boolean!
}

type Subscription {
  blogPublished(followingIds: [String!]!): Notification!
  userFollowed(name: String!): Notification!
}

type Notification {
  id: ID!
  message: String!
  linkString: String!
  dateString: String!
}
